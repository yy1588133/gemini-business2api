import{u as g}from"./useUptimeStatus-C6KvRanY.js";import{d as v,o as y,c as r,a as t,b as u,t as o,u as n,F as _,r as c,n as m,f as l,e as a}from"./index-Duw_mHSu.js";const h={class:"space-y-6"},k={class:"rounded-3xl border border-border bg-card p-6"},C={class:"flex flex-wrap items-center justify-between gap-3"},N={class:"mt-1 text-xs text-muted-foreground"},B={key:0,class:"mt-4 rounded-2xl border border-destructive/30 bg-destructive/10 p-4 text-sm text-destructive"},M={class:"mt-6 grid gap-8 md:grid-cols-2"},S={class:"monitor-card__header"},V={class:"monitor-card__name"},w={class:"monitor-card__stats"},F={class:"monitor-card__value"},L={class:"monitor-card__value"},$={class:"monitor-card__value"},j={class:"monitor-card__beats"},z={key:0,class:"monitor-beat__tooltip"},U=v({__name:"Monitor",setup(A){const{services:p,updatedAt:b,errorMessage:i,refreshStatus:f}=g();return y(()=>{f()}),(D,s)=>(a(),r("div",h,[t("section",k,[t("div",C,[t("div",null,[s[0]||(s[0]=t("p",{class:"text-base font-semibold text-foreground"},"服务状态",-1)),t("p",N," 最近更新："+o(n(b)||"未获取"),1)]),s[1]||(s[1]=t("div",{class:"flex items-center gap-2"},[t("a",{href:"/#/public/uptime",target:"_blank",class:"rounded-full border border-border px-4 py-2 text-sm font-medium text-foreground transition-colors hover:border-primary hover:text-primary"}," 打开监控页 ")],-1))]),n(i)?(a(),r("div",B,o(n(i)),1)):u("",!0),t("div",M,[(a(!0),r(_,null,c(n(p),e=>(a(),r("div",{key:e.key,class:"monitor-card"},[t("div",S,[t("span",V,o(e.name),1),t("span",{class:m(["monitor-card__badge",e.statusClass])},o(e.statusLabel),3)]),t("div",w,[t("span",null,[s[2]||(s[2]=l("可用率 ",-1)),t("span",F,o(e.uptime)+"%",1)]),t("span",null,[s[3]||(s[3]=l("请求 ",-1)),t("span",L,o(e.total),1)]),t("span",null,[s[4]||(s[4]=l("成功 ",-1)),t("span",$,o(e.success),1)])]),t("div",j,[(a(!0),r(_,null,c(e.beats,(d,x)=>(a(),r("div",{key:`${e.key}-${x}`,class:m(["monitor-beat",d.className])},[d.tooltip?(a(),r("span",z,o(d.tooltip),1)):u("",!0)],2))),128))])]))),128))])])]))}});export{U as default};

import{g as z,D as $e,h as c,d as Ae,E as Se,i as R,o as De,c as n,a as t,y as D,z as ue,w as V,p as $,b as k,B as Ee,t as a,n as m,u as v,F as q,r as ce,f as xe,T as pe,m as g,e as r}from"./index-Duw_mHSu.js";import{_ as Ue}from"./SelectMenu.vue_vue_type_script_setup_true_lang-C6lwE8ta.js";import{_ as F}from"./Checkbox.vue_vue_type_script_setup_true_lang-C3u4yZ0n.js";import{_ as ze}from"./ConfirmDialog.vue_vue_type_script_setup_true_lang-B0kbsWTx.js";import{u as je}from"./useConfirmDialog-zOwCf1Xz.js";import{_ as Me}from"./HelpTip.vue_vue_type_script_setup_true_lang-D5ftbZH0.js";const y={list:()=>z.get("/admin/accounts"),getConfig:()=>z.get("/admin/accounts-config"),updateConfig:f=>z.put("/admin/accounts-config",f),delete:f=>z.delete(`/admin/accounts/${f}`),disable:f=>z.put(`/admin/accounts/${f}/disable`),enable:f=>z.put(`/admin/accounts/${f}/enable`)},Be=$e("accounts",()=>{const f=c([]),x=c(!1);async function b(){x.value=!0;try{const l=await y.list();f.value=Array.isArray(l)?l:l.accounts||[]}finally{x.value=!1}}async function j(l){await y.delete(l),await b()}async function p(l){await y.disable(l),await b()}async function M(l){await y.enable(l),await b()}async function E(l){await Promise.all(l.map(_=>y.enable(_))),await b()}async function u(l){await Promise.all(l.map(_=>y.disable(_))),await b()}async function A(l){await Promise.all(l.map(_=>y.delete(_))),await b()}async function B(l){await y.updateConfig(l),await b()}return{accounts:f,isLoading:x,loadAccounts:b,deleteAccount:j,disableAccount:p,enableAccount:M,bulkEnable:E,bulkDisable:u,bulkDelete:A,updateConfig:B}}),Ne={class:"space-y-8"},Te={class:"rounded-3xl border border-border bg-card p-6"},Oe={class:"flex flex-wrap items-center justify-between gap-4"},Je={class:"grid w-full grid-cols-2 gap-3 sm:flex sm:w-auto sm:items-center"},Le={class:"flex w-full flex-wrap items-center gap-3 text-xs text-muted-foreground sm:w-auto sm:flex-nowrap"},Fe={key:0},Ie={class:"ml-auto flex items-center gap-2 sm:ml-0"},Pe={class:"mt-4 flex flex-wrap items-center gap-3"},He=["disabled"],Qe=["disabled"],Re=["disabled"],qe=["disabled"],Ge={key:0,class:"mt-6 grid grid-cols-1 gap-3 md:grid-cols-2 xl:grid-cols-3"},Ke=["onClick"],We={class:"flex items-start justify-between gap-3"},Xe={class:"mt-1 font-mono text-xs text-foreground"},Ye={class:"flex items-center gap-2"},Ze={class:"mt-4 grid grid-cols-2 gap-3 text-xs text-muted-foreground"},et={key:0,class:"mt-1 text-[11px]"},tt={key:0},ot={key:1},st={class:"mt-1 text-sm font-semibold text-foreground"},rt={class:"mt-1 text-sm font-semibold text-foreground"},lt={class:"mt-4 flex flex-wrap items-center gap-2"},nt=["onClick"],dt=["onClick"],at=["onClick"],it=["onClick"],ut={key:0,class:"rounded-2xl border border-border bg-background p-4 text-center text-xs text-muted-foreground"},ct={key:1,class:"relative mt-6 overflow-x-auto overflow-y-visible"},xt={class:"min-w-full text-left text-sm"},pt={class:"text-xs uppercase tracking-[0.2em] text-muted-foreground"},ft={class:"py-3 pr-4"},mt={class:"py-3 pr-6"},bt={class:"inline-flex items-center gap-2"},vt={class:"text-sm text-foreground"},gt={key:0},yt=["onClick"],_t={class:"py-4 pr-6 font-mono text-xs text-foreground"},wt={class:"py-4 pr-6"},ht={class:"py-4 pr-6"},kt={key:0,class:"block text-[11px] text-muted-foreground"},Ct={class:"py-4 pr-6 text-xs"},Vt={class:"py-4 pr-6 text-xs text-muted-foreground"},$t={class:"py-4 pr-6 text-xs text-muted-foreground"},At={class:"py-4 text-right"},St={class:"flex flex-wrap justify-end gap-2"},Dt=["onClick"],Et=["onClick"],Ut=["onClick"],zt=["onClick"],jt={key:0,class:"fixed inset-0 z-[100] flex items-center justify-center bg-black/30 px-4"},Mt={class:"w-full max-w-lg rounded-3xl border border-border bg-card p-6 shadow-xl"},Bt={key:0,class:"mt-4 rounded-2xl bg-destructive/10 px-4 py-3 text-sm text-destructive"},Nt={class:"mt-4 space-y-3 text-sm"},Tt={key:0,class:"fixed inset-0 z-[100] flex items-center justify-center bg-black/30 px-4"},Ot={class:"w-full max-w-3xl rounded-3xl border border-border bg-card p-6 shadow-xl"},Jt={class:"flex items-center justify-between"},Lt={class:"flex items-center gap-2"},Ft={key:0,class:"mt-4 rounded-2xl bg-destructive/10 px-4 py-3 text-sm text-destructive"},It={key:1,class:"mt-4 rounded-2xl bg-secondary/60 px-4 py-3 text-xs text-muted-foreground"},Pt={class:"mt-4"},Ht=["readonly"],Qt={class:"mt-6 flex items-center justify-end gap-2"},Rt=["disabled"],Zt=Ae({__name:"Accounts",setup(f){const x=Be(),{accounts:b,isLoading:j}=Se(x),p=je(),M=c(""),E=c("all"),u=c(new Set),A=c("table"),B=c(!1),l=c(""),_=c(!1),w=c(""),U=c(""),h=c(!1),O=c([]),i=c({id:"",secure_c_ses:"",csesidx:"",config_id:"",host_c_oses:"",expires_at:""}),J=c(null),G=c([]),fe=[{label:"全部状态",value:"all"},{label:"正常",value:"正常"},{label:"即将过期",value:"即将过期"},{label:"已过期",value:"已过期"},{label:"手动禁用",value:"手动禁用"},{label:"错误禁用",value:"错误禁用"},{label:"429限流",value:"429限流"}],C=R(()=>{const o=M.value.trim().toLowerCase();return b.value.filter(e=>{const s=!o||e.id.toLowerCase().includes(o),d=E.value==="all"||T(e)===E.value;return s&&d})}),N=R(()=>u.value.size),I=R(()=>C.value.length>0&&C.value.every(o=>u.value.has(o.id))),K=async()=>{await x.loadAccounts(),u.value=new Set};De(async()=>{await K()});const T=o=>o.cooldown_reason?.includes("429")&&o.cooldown_seconds>0?"429限流":o.cooldown_reason==="错误禁用"?"错误禁用":o.disabled?"手动禁用":o.status==="已过期"?"已过期":o.status==="即将过期"?"即将过期":"正常",W=o=>{const e=T(o);return e==="429限流"||e==="即将过期"?"bg-amber-200 text-amber-900":e==="错误禁用"||e==="已过期"?"bg-destructive/10 text-destructive":e==="手动禁用"?"bg-muted text-muted-foreground":"bg-emerald-500 text-white"},X=o=>o.cooldown_reason?.includes("429")&&o.cooldown_seconds>0?!0:o.disabled||o.cooldown_reason==="错误禁用",Y=o=>o==="已过期"?"过期":o==="未设置"?"未设置":o,Z=o=>o.status==="已过期"?"text-rose-600":o.status==="即将过期"?"text-amber-700":o.status==="未设置"?"text-muted-foreground":"text-emerald-600",ee=o=>o<60?`${o} 秒`:o<3600?`${Math.ceil(o/60)} 分钟`:`${(o/3600).toFixed(1)} 小时`,P=o=>o.cooldown_seconds>0?"text-amber-700":o.cooldown_reason==="错误禁用"?"text-rose-600":"text-muted-foreground",te=o=>{const e=T(o);return e==="手动禁用"||e==="已过期"?"bg-muted/70":""},L=o=>{const e=new Set(u.value);e.has(o)?e.delete(o):e.add(o),u.value=e},oe=()=>{if(I.value){u.value=new Set;return}u.value=new Set(C.value.map(o=>o.id))},me=(o,e)=>o.id||`account_${e+1}`,be=async()=>(await y.getConfig()).accounts.map((e,s)=>({...e,id:me(e,s)})),ve=(o,e)=>{let s=-1;for(let S=0;S<o.length;S+=1)if(o[S].id===e){s=S;break}if(s===-1)return l.value="未找到对应账号配置。",!1;const d=o[s];return i.value={id:d.id,secure_c_ses:d.secure_c_ses,csesidx:d.csesidx,config_id:d.config_id,host_c_oses:d.host_c_oses,expires_at:d.expires_at},G.value=o,J.value=s,B.value=!0,!0},se=async o=>{l.value="";try{const e=await be();ve(e,o)}catch(e){l.value=e.message||"加载账号配置失败"}},ge=async()=>{w.value="";try{const o=await y.getConfig(),e=Array.isArray(o.accounts)?o.accounts:[];O.value=e;const s=e.length>0;h.value=s,U.value=JSON.stringify(s?le(e):e,null,2),_.value=!0}catch(o){w.value=o.message||"加载账号配置失败"}},H=()=>{_.value=!1,w.value="",h.value=!1},re=()=>{const o=JSON.parse(U.value);if(!Array.isArray(o))throw new Error("配置格式必须是数组。");return o},ye=o=>typeof o!="string"||!o?o:o.length<=6?`${o.slice(0,2)}****`:`${o.slice(0,3)}****`,le=o=>{const e=new Set(["secure_c_ses","csesidx","config_id","host_c_oses"]);return o.map(s=>{const d={...s};return e.forEach(S=>{const ie=d[S];ie&&(d[S]=ye(ie))}),d})},_e=()=>{if(w.value="",!h.value){try{O.value=re()}catch(o){w.value=o.message||"JSON 格式错误";return}U.value=JSON.stringify(le(O.value),null,2),h.value=!0;return}U.value=JSON.stringify(O.value,null,2),h.value=!1},we=async()=>{w.value="";try{const o=re();await x.updateConfig(o),H()}catch(o){w.value=o.message||"保存失败"}},Q=()=>{B.value=!1,l.value=""},he=async()=>{if(J.value===null)return;const o=[...G.value];o[J.value]={...o[J.value],id:i.value.id,secure_c_ses:i.value.secure_c_ses,csesidx:i.value.csesidx,config_id:i.value.config_id,host_c_oses:i.value.host_c_oses||void 0,expires_at:i.value.expires_at||void 0};try{await x.updateConfig(o),Q()}catch(e){l.value=e.message||"保存失败"}},ke=async()=>{await x.bulkEnable(Array.from(u.value)),u.value=new Set},Ce=async()=>{await p.ask({title:"批量禁用",message:"确定要批量禁用选中的账号吗？"})&&(await x.bulkDisable(Array.from(u.value)),u.value=new Set)},Ve=async()=>{await p.ask({title:"批量删除",message:"确定要批量删除选中的账号吗？",confirmText:"删除"})&&(await x.bulkDelete(Array.from(u.value)),u.value=new Set)},ne=async o=>{await x.enableAccount(o)},de=async o=>{await p.ask({title:"禁用账号",message:"确定要禁用该账号吗？"})&&await x.disableAccount(o)},ae=async o=>{await p.ask({title:"删除账号",message:"确定要删除该账号吗？",confirmText:"删除"})&&await x.deleteAccount(o)};return(o,e)=>(r(),n(q,null,[t("div",Ne,[t("section",Te,[t("div",Oe,[t("div",Je,[V(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>M.value=s),type:"text",placeholder:"搜索账号 ID",class:"w-full rounded-full border border-input bg-background px-4 py-2 text-sm sm:w-48"},null,512),[[$,M.value]]),D(Ue,{modelValue:E.value,"onUpdate:modelValue":e[1]||(e[1]=s=>E.value=s),options:fe},null,8,["modelValue"])]),t("div",Le,[D(F,{modelValue:I.value,"onUpdate:modelValue":oe},{default:Ee(()=>[...e[16]||(e[16]=[xe(" 全选 ",-1)])]),_:1},8,["modelValue"]),t("span",null,"共 "+a(C.value.length)+" 个账号",1),N.value?(r(),n("span",Fe,"已选 "+a(N.value)+" 个",1)):k("",!0),t("div",Ie,[t("button",{type:"button",class:m(["inline-flex h-8 w-8 items-center justify-center rounded-full border border-border text-muted-foreground transition-colors hover:border-primary hover:text-primary",A.value==="table"?"bg-accent text-accent-foreground":""]),onClick:e[2]||(e[2]=s=>A.value="table"),"aria-label":"列表视图"},[...e[17]||(e[17]=[t("svg",{"aria-hidden":"true",viewBox:"0 0 24 24",class:"h-4 w-4",fill:"currentColor"},[t("path",{d:"M4 6h16v2H4V6zm0 5h16v2H4v-2zm0 5h16v2H4v-2z"})],-1)])],2),t("button",{type:"button",class:m(["inline-flex h-8 w-8 items-center justify-center rounded-full border border-border text-muted-foreground transition-colors hover:border-primary hover:text-primary",A.value==="card"?"bg-accent text-accent-foreground":""]),onClick:e[3]||(e[3]=s=>A.value="card"),"aria-label":"卡片视图"},[...e[18]||(e[18]=[t("svg",{"aria-hidden":"true",viewBox:"0 0 24 24",class:"h-4 w-4",fill:"currentColor"},[t("path",{d:"M4 6h7v6H4V6zm9 0h7v6h-7V6zM4 14h7v4H4v-4zm9 0h7v4h-7v-4z"})],-1)])],2)])])]),t("div",Pe,[t("button",{class:"rounded-full border border-border px-4 py-2 text-sm font-medium text-foreground transition-colors hover:border-primary hover:text-primary",onClick:ge}," 账户配置 "),t("button",{class:"rounded-full border border-border px-4 py-2 text-sm font-medium text-foreground transition-colors hover:border-primary hover:text-primary",disabled:v(j),onClick:K}," 刷新列表 ",8,He),t("button",{class:"rounded-full border border-border px-4 py-2 text-sm font-medium text-foreground transition-colors hover:border-primary hover:text-primary",disabled:!N.value,onClick:ke}," 批量启用 ",8,Qe),t("button",{class:"rounded-full border border-border px-4 py-2 text-sm font-medium text-foreground transition-colors hover:border-primary hover:text-primary",disabled:!N.value,onClick:Ce}," 批量禁用 ",8,Re),t("button",{class:"rounded-full border border-border px-4 py-2 text-sm font-medium text-destructive transition-colors hover:border-destructive hover:text-destructive",disabled:!N.value,onClick:Ve}," 批量删除 ",8,qe)]),A.value==="card"?(r(),n("div",Ge,[(r(!0),n(q,null,ce(C.value,s=>(r(),n("div",{key:s.id,class:m(["rounded-2xl border border-border bg-card p-4",te(s)]),onClick:d=>L(s.id)},[t("div",We,[t("div",null,[e[19]||(e[19]=t("p",{class:"text-xs text-muted-foreground"},"账号 ID",-1)),t("p",Xe,a(s.id),1)]),t("div",Ye,[D(F,{modelValue:u.value.has(s.id),"onUpdate:modelValue":d=>L(s.id),onClick:e[4]||(e[4]=g(()=>{},["stop"]))},null,8,["modelValue","onUpdate:modelValue"]),t("span",{class:m(["inline-flex items-center rounded-full border border-border px-3 py-1 text-xs",W(s)])},a(T(s)),3)])]),t("div",Ze,[t("div",null,[e[20]||(e[20]=t("p",null,"剩余时间",-1)),t("p",{class:m(["mt-1 text-sm font-semibold",Z(s)])},a(Y(s.remaining_display)),3),s.expires_at?(r(),n("p",et,a(s.expires_at),1)):k("",!0)]),t("div",null,[e[21]||(e[21]=t("p",null,"冷却",-1)),t("p",{class:m(["mt-1",P(s)])},[s.cooldown_seconds>0?(r(),n("span",tt,a(ee(s.cooldown_seconds))+" · "+a(s.cooldown_reason),1)):(r(),n("span",ot,a(s.cooldown_reason||"无冷却"),1))],2)]),t("div",null,[e[22]||(e[22]=t("p",null,"失败数",-1)),t("p",st,a(s.error_count),1)]),t("div",null,[e[23]||(e[23]=t("p",null,"会话数",-1)),t("p",rt,a(s.conversation_count),1)])]),t("div",lt,[t("button",{class:"rounded-full border border-border px-3 py-1 text-xs text-foreground transition-colors hover:border-primary hover:text-primary",onClick:g(d=>se(s.id),["stop"])}," 编辑 ",8,nt),X(s)?(r(),n("button",{key:0,class:"rounded-full border border-border px-3 py-1 text-xs text-foreground transition-colors hover:border-primary hover:text-primary",onClick:[e[5]||(e[5]=g(()=>{},["stop"])),d=>ne(s.id)]}," 启用 ",8,dt)):(r(),n("button",{key:1,class:"rounded-full border border-border px-3 py-1 text-xs text-foreground transition-colors hover:border-primary hover:text-primary",onClick:[e[6]||(e[6]=g(()=>{},["stop"])),d=>de(s.id)]}," 禁用 ",8,at)),t("button",{class:"rounded-full border border-border px-3 py-1 text-xs text-destructive transition-colors hover:border-destructive hover:text-destructive",onClick:[e[7]||(e[7]=g(()=>{},["stop"])),d=>ae(s.id)]}," 删除 ",8,it)])],10,Ke))),128)),!C.value.length&&!v(j)?(r(),n("div",ut," 暂无账号数据，请检查后台配置。 ")):k("",!0)])):(r(),n("div",ct,[t("table",xt,[t("thead",pt,[t("tr",null,[t("th",ft,[D(F,{modelValue:I.value,"onUpdate:modelValue":oe},null,8,["modelValue"])]),e[25]||(e[25]=t("th",{class:"py-3 pr-6"},"账号 ID",-1)),e[26]||(e[26]=t("th",{class:"py-3 pr-6"},"状态",-1)),t("th",mt,[t("span",bt,[e[24]||(e[24]=xe(" 剩余/过期 ",-1)),D(Me,{text:"过期时间为 12 小时，账户过期以北京时间为准。"})])]),e[27]||(e[27]=t("th",{class:"py-3 pr-6"},"冷却",-1)),e[28]||(e[28]=t("th",{class:"py-3 pr-6"},"失败数",-1)),e[29]||(e[29]=t("th",{class:"py-3 pr-6"},"会话数",-1)),e[30]||(e[30]=t("th",{class:"py-3 text-right"},"操作",-1))])]),t("tbody",vt,[!C.value.length&&!v(j)?(r(),n("tr",gt,[...e[31]||(e[31]=[t("td",{colspan:"8",class:"py-8 text-center text-muted-foreground"}," 暂无账号数据，请检查后台配置。 ",-1)])])):k("",!0),(r(!0),n(q,null,ce(C.value,s=>(r(),n("tr",{key:s.id,class:m(["border-t border-border",te(s)]),onClick:d=>L(s.id)},[t("td",{class:"py-4 pr-4",onClick:e[8]||(e[8]=g(()=>{},["stop"]))},[D(F,{modelValue:u.value.has(s.id),"onUpdate:modelValue":d=>L(s.id)},null,8,["modelValue","onUpdate:modelValue"])]),t("td",_t,a(s.id),1),t("td",wt,[t("span",{class:m(["inline-flex items-center rounded-full border border-border px-3 py-1 text-xs",W(s)])},a(T(s)),3)]),t("td",ht,[t("div",{class:m(["text-sm font-semibold",Z(s)])},a(Y(s.remaining_display)),3),s.expires_at?(r(),n("span",kt,a(s.expires_at),1)):k("",!0)]),t("td",Ct,[s.cooldown_seconds>0?(r(),n("span",{key:0,class:m(P(s))},a(ee(s.cooldown_seconds))+" · "+a(s.cooldown_reason),3)):(r(),n("span",{key:1,class:m(P(s))},a(s.cooldown_reason||"无冷却"),3))]),t("td",Vt,a(s.error_count),1),t("td",$t,a(s.conversation_count),1),t("td",At,[t("div",St,[t("button",{class:"rounded-full border border-border px-3 py-1 text-xs text-foreground transition-colors hover:border-primary hover:text-primary",onClick:g(d=>se(s.id),["stop"])}," 编辑 ",8,Dt),X(s)?(r(),n("button",{key:0,class:"rounded-full border border-border px-3 py-1 text-xs text-foreground transition-colors hover:border-primary hover:text-primary",onClick:g(d=>ne(s.id),["stop"])}," 启用 ",8,Et)):(r(),n("button",{key:1,class:"rounded-full border border-border px-3 py-1 text-xs text-foreground transition-colors hover:border-primary hover:text-primary",onClick:g(d=>de(s.id),["stop"])}," 禁用 ",8,Ut)),t("button",{class:"rounded-full border border-border px-3 py-1 text-xs text-destructive transition-colors hover:border-destructive hover:text-destructive",onClick:g(d=>ae(s.id),["stop"])}," 删除 ",8,zt)])])],10,yt))),128))])])]))])]),D(ze,{open:v(p).open.value,title:v(p).title.value,message:v(p).message.value,"confirm-text":v(p).confirmText.value,"cancel-text":v(p).cancelText.value,onConfirm:v(p).confirm,onCancel:v(p).cancel},null,8,["open","title","message","confirm-text","cancel-text","onConfirm","onCancel"]),(r(),ue(pe,{to:"body"},[B.value?(r(),n("div",jt,[t("div",Mt,[t("div",{class:"flex items-center justify-between"},[e[32]||(e[32]=t("p",{class:"text-sm font-medium text-foreground"},"编辑账号",-1)),t("button",{class:"text-xs text-muted-foreground transition-colors hover:text-foreground",onClick:Q}," 关闭 ")]),l.value?(r(),n("div",Bt,a(l.value),1)):k("",!0),t("div",Nt,[e[33]||(e[33]=t("label",{class:"block text-xs text-muted-foreground"},"账号 ID",-1)),V(t("input",{"onUpdate:modelValue":e[9]||(e[9]=s=>i.value.id=s),type:"text",class:"w-full rounded-2xl border border-input bg-background px-3 py-2 text-sm",disabled:""},null,512),[[$,i.value.id]]),e[34]||(e[34]=t("label",{class:"block text-xs text-muted-foreground"},"secure_c_ses",-1)),V(t("textarea",{"onUpdate:modelValue":e[10]||(e[10]=s=>i.value.secure_c_ses=s),class:"w-full rounded-2xl border border-input bg-background px-3 py-2 text-sm",rows:"3"},null,512),[[$,i.value.secure_c_ses]]),e[35]||(e[35]=t("label",{class:"block text-xs text-muted-foreground"},"csesidx",-1)),V(t("input",{"onUpdate:modelValue":e[11]||(e[11]=s=>i.value.csesidx=s),type:"text",class:"w-full rounded-2xl border border-input bg-background px-3 py-2 text-sm"},null,512),[[$,i.value.csesidx]]),e[36]||(e[36]=t("label",{class:"block text-xs text-muted-foreground"},"config_id",-1)),V(t("input",{"onUpdate:modelValue":e[12]||(e[12]=s=>i.value.config_id=s),type:"text",class:"w-full rounded-2xl border border-input bg-background px-3 py-2 text-sm"},null,512),[[$,i.value.config_id]]),e[37]||(e[37]=t("label",{class:"block text-xs text-muted-foreground"},"host_c_oses",-1)),V(t("input",{"onUpdate:modelValue":e[13]||(e[13]=s=>i.value.host_c_oses=s),type:"text",class:"w-full rounded-2xl border border-input bg-background px-3 py-2 text-sm"},null,512),[[$,i.value.host_c_oses]]),e[38]||(e[38]=t("label",{class:"block text-xs text-muted-foreground"},"expires_at",-1)),V(t("input",{"onUpdate:modelValue":e[14]||(e[14]=s=>i.value.expires_at=s),type:"text",class:"w-full rounded-2xl border border-input bg-background px-3 py-2 text-sm",placeholder:"2025-12-23 10:59:21"},null,512),[[$,i.value.expires_at]])]),t("div",{class:"mt-6 flex items-center justify-end gap-2"},[t("button",{class:"rounded-full border border-border px-4 py-2 text-sm text-muted-foreground transition-colors hover:border-primary hover:text-primary",onClick:Q}," 取消 "),t("button",{class:"rounded-full bg-primary px-4 py-2 text-sm font-medium text-primary-foreground transition-opacity hover:opacity-90",onClick:he}," 保存 ")])])])):k("",!0)])),(r(),ue(pe,{to:"body"},[_.value?(r(),n("div",Tt,[t("div",Ot,[t("div",Jt,[e[39]||(e[39]=t("p",{class:"text-sm font-medium text-foreground"},"账户配置（JSON）",-1)),t("div",Lt,[t("button",{class:"rounded-full bg-foreground px-3 py-1 text-xs text-background transition-opacity hover:opacity-90",onClick:_e},a(h.value?"显示原文":"脱敏显示"),1),t("button",{class:"text-xs text-muted-foreground transition-colors hover:text-foreground",onClick:H}," 关闭 ")])]),w.value?(r(),n("div",Ft,a(w.value),1)):h.value?(r(),n("div",It," 当前为脱敏预览模式（只读），点击“显示原文”后可编辑并保存。 ")):k("",!0),t("div",Pt,[V(t("textarea",{"onUpdate:modelValue":e[15]||(e[15]=s=>U.value=s),class:"h-96 w-full rounded-2xl border border-input bg-background px-4 py-3 font-mono text-xs text-foreground",spellcheck:"false",readonly:h.value},null,8,Ht),[[$,U.value]])]),t("div",Qt,[t("button",{class:"rounded-full border border-border px-4 py-2 text-sm text-muted-foreground transition-colors hover:border-primary hover:text-primary",onClick:H}," 取消 "),t("button",{class:"rounded-full bg-primary px-4 py-2 text-sm font-medium text-primary-foreground transition-opacity hover:opacity-90",onClick:we,disabled:h.value}," 保存 ",8,Rt)])])])):k("",!0)]))],64))}});export{Zt as default};
